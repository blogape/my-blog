{"ast":null,"code":"import _regeneratorRuntime from \"/Users/chenzehua/Desktop/blog/app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/chenzehua/Desktop/blog/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/chenzehua/Desktop/blog/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chenzehua/Desktop/blog/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chenzehua/Desktop/blog/app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chenzehua/Desktop/blog/app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chenzehua/Desktop/blog/app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chenzehua/Desktop/blog/app/src/view/Login/index.js\";\nimport React, { Component } from \"react\";\nimport { Form, Icon, Input, Button, message } from \"antd\"; // import { loginByUsername } from '../../services/api.js';\n\nimport axios from 'axios'; // import { setToken, getToken } from \"../../utils/token.js\";\n\nimport \"./index.scss\";\nvar FormItem = Form.Item;\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  // set loading\n  // antd's click on the event login api call\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      loading: false\n    };\n\n    _this.startLogin = function () {\n      _this.setState({\n        loading: true\n      });\n    };\n\n    _this.endLogin = function () {\n      _this.setState({\n        loading: false\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      axios.post('http://127.0.0.1:3000/login', {\n        name: 'xiaoming',\n        password: '123456'\n      }).then(function (res) {\n        console.log(res);\n      }).catch(function (err) {\n        console.log(err);\n      });\n      e.preventDefault();\n      var history = _this.props.history; // return err values\n\n      _this.props.form.validateFields(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(err, values) {\n          var userName, password;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (!err) {\n                    // user let \n                    userName = values.userName;\n                    password = values.password;\n                  }\n\n                case 1:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {}\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      setTimeout(function () {\n        var loading = document.getElementById(\"StartLoading\");\n        loading && document.body.removeChild(loading);\n      }, 200);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      return React.createElement(\"div\", {\n        className: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"\\u540E\\u53F0\\u7BA1\\u7406\\u7CFB\\u7EDF\")), React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, getFieldDecorator(\"userName\", {\n        rules: [{\n          required: true,\n          message: \"请输入您的用户名!\"\n        }]\n      })(React.createElement(Input, {\n        prefix: React.createElement(Icon, {\n          type: \"user\",\n          style: {\n            color: \"rgba(0,0,0,.25)\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }),\n        placeholder: \"\\u7528\\u6237\\u540D\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }))), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, getFieldDecorator(\"password\", {\n        rules: [{\n          required: true,\n          message: \"请输入你的密码！\"\n        }]\n      })(React.createElement(Input, {\n        prefix: React.createElement(Icon, {\n          type: \"lock\",\n          style: {\n            color: \"rgba(0,0,0,.25)\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }),\n        type: \"password\",\n        placeholder: \"\\u5BC6\\u7801\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }))), React.createElement(FormItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        loading: this.state.loading,\n        htmlType: \"submit\",\n        className: \"login-form-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\")))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Form.create()(Login);","map":{"version":3,"sources":["/Users/chenzehua/Desktop/blog/app/src/view/Login/index.js"],"names":["React","Component","Form","Icon","Input","Button","message","axios","FormItem","Item","Login","props","state","loading","startLogin","setState","endLogin","handleSubmit","e","post","name","password","then","res","console","log","catch","err","preventDefault","history","form","validateFields","values","userName","setTimeout","document","getElementById","body","removeChild","getFieldDecorator","rules","required","color","create"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,KAArB,EAA4BC,MAA5B,EAAoCC,OAApC,QAAmD,MAAnD,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAO,cAAP;AACA,IAAMC,QAAQ,GAAGN,IAAI,CAACO,IAAtB;;IACMC,K;;;;;AACJ;AAUA;AACA,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,+EAAMA,KAAN;AADiB,UAVnBC,KAUmB,GAVX;AACNC,MAAAA,OAAO,EAAE;AADH,KAUW;;AAAA,UAPrBC,UAOqB,GAPR,YAAM;AACjB,YAAKC,QAAL,CAAc;AAAEF,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,KAKoB;;AAAA,UAJrBG,QAIqB,GAJV,YAAM;AACf,YAAKD,QAAL,CAAc;AAAEF,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,KAEoB;;AAEjB,UAAKI,YAAL,GAAoB,UAAAC,CAAC,EAAI;AACrBX,MAAAA,KAAK,CAACY,IAAN,CAAW,6BAAX,EAAyC;AACrCC,QAAAA,IAAI,EAAC,UADgC;AAErCC,QAAAA,QAAQ,EAAC;AAF4B,OAAzC,EAICC,IAJD,CAIM,UAACC,GAAD,EAAS;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,OAND,EAOCG,KAPD,CAOO,UAACC,GAAD,EAAS;AACZH,QAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,OATD;AAeFT,MAAAA,CAAC,CAACU,cAAF;AAhBuB,UAiBfC,OAjBe,GAiBH,MAAKlB,KAjBF,CAiBfkB,OAjBe,EAkBvB;;AACA,YAAKlB,KAAL,CAAWmB,IAAX,CAAgBC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,iCAA+B,iBAAMJ,GAAN,EAAWK,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7B,sBAAI,CAACL,GAAL,EAAU;AACR;AACMM,oBAAAA,QAFE,GAEOD,MAAM,CAACC,QAFd;AAGFZ,oBAAAA,QAHE,GAGOW,MAAM,CAACX,QAHd;AAKT;;AAN4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA/B;;AAAA;AAAA;AAAA;AAAA;AAQD,KA3BD;;AAFiB;AA8BlB;;;;yCACoB,CAGpB;;;wCACmB;AAClBa,MAAAA,UAAU,CAAC,YAAM;AACf,YAAIrB,OAAO,GAAGsB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAd;AACAvB,QAAAA,OAAO,IAAIsB,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BzB,OAA1B,CAAX;AACD,OAHS,EAGP,GAHO,CAAV;AAID;;;6BAEQ;AAAA,UACC0B,iBADD,GACuB,KAAK5B,KAAL,CAAWmB,IADlC,CACCS,iBADD;AAGP,aACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDADF,CADF,EAIE,oBAAC,IAAD;AAAM,QAAA,QAAQ,EAAE,KAAKtB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGsB,iBAAiB,CAAC,UAAD,EAAa;AAC7BC,QAAAA,KAAK,EAAE,CAAC;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkBnC,UAAAA,OAAO,EAAE;AAA3B,SAAD;AADsB,OAAb,CAAjB,CAGC,oBAAC,KAAD;AACE,QAAA,MAAM,EACJ,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAC,MAAX;AAAkB,UAAA,KAAK,EAAE;AAAEoC,YAAAA,KAAK,EAAE;AAAT,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAIE,QAAA,WAAW,EAAC,oBAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHD,CADH,CADF,EAaE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGH,iBAAiB,CAAC,UAAD,EAAa;AAC7BC,QAAAA,KAAK,EAAE,CAAC;AAAEC,UAAAA,QAAQ,EAAE,IAAZ;AAAkBnC,UAAAA,OAAO,EAAE;AAA3B,SAAD;AADsB,OAAb,CAAjB,CAGC,oBAAC,KAAD;AACE,QAAA,MAAM,EACJ,oBAAC,IAAD;AAAM,UAAA,IAAI,EAAC,MAAX;AAAkB,UAAA,KAAK,EAAE;AAAEoC,YAAAA,KAAK,EAAE;AAAT,WAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ;AAIE,QAAA,IAAI,EAAC,UAJP;AAKE,QAAA,WAAW,EAAC,cALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHD,CADH,CAbF,EA0BE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,IAAI,EAAC,SADP;AAEE,QAAA,OAAO,EAAE,KAAK9B,KAAL,CAAWC,OAFtB;AAGE,QAAA,QAAQ,EAAC,QAHX;AAIE,QAAA,SAAS,EAAC,mBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CA1BF,CAJF,CADF,CADF;AA8CD;;;;EAvGiBZ,S;;AAyGpB,eAAeC,IAAI,CAACyC,MAAL,GAAcjC,KAAd,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Form, Icon, Input, Button, message } from \"antd\";\n// import { loginByUsername } from '../../services/api.js';\nimport axios from 'axios';\n// import { setToken, getToken } from \"../../utils/token.js\";\nimport \"./index.scss\";\nconst FormItem = Form.Item;\nclass Login extends Component {\n  // set loading\n  state = {\n    loading: false\n}\nstartLogin = () => {\n  this.setState({ loading: true });\n}\nendLogin = () => {\n  this.setState({ loading: false });\n}\n  // antd's click on the event login api call\n  constructor(props) {\n    super(props);\n    this.handleSubmit = e => {\n        axios.post('http://127.0.0.1:3000/login',{\n            name:'xiaoming',\n            password:'123456'\n        })\n        .then((res) => {\n            console.log(res);\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n\n\n\n\n\n      e.preventDefault();\n      const { history } = this.props;\n      // return err values\n      this.props.form.validateFields(async(err, values) => {\n        if (!err) {\n          // user let \n          const userName=values.userName;\n          const password=values.password;\n          \n        }\n      });\n    };\n  }\n  componentWillMount() {\n  \n\n  }\n  componentDidMount() {\n    setTimeout(() => {\n      let loading = document.getElementById(\"StartLoading\");\n      loading && document.body.removeChild(loading);\n    }, 200);\n  }\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <div className=\"login\">\n        <div className=\"login-form\">\n          <div className=\"login-logo\">\n            <span>后台管理系统</span>\n          </div>\n          <Form onSubmit={this.handleSubmit}>\n            <FormItem>\n              {getFieldDecorator(\"userName\", {\n                rules: [{ required: true, message: \"请输入您的用户名!\" }]\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  placeholder=\"用户名\"\n                />\n              )}\n            </FormItem>\n            <FormItem>\n              {getFieldDecorator(\"password\", {\n                rules: [{ required: true, message: \"请输入你的密码！\" }]\n              })(\n                <Input\n                  prefix={\n                    <Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />\n                  }\n                  type=\"password\"\n                  placeholder=\"密码\"\n                />\n              )}\n            </FormItem>\n            <FormItem>\n              <Button\n                type=\"primary\"\n                loading={this.state.loading}\n                htmlType=\"submit\"\n                className=\"login-form-button\"\n              >\n                登录\n              </Button>\n            </FormItem>\n          </Form>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Form.create()(Login);"]},"metadata":{},"sourceType":"module"}